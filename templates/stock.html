<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/static/css/stock.css"> <!-- Link to your CSS -->
    <title>Stock Price Prediction</title>
</head>
<body>
    <div class="container">
        <h1>Stock Price Prediction</h1>
        <form id="stockForm" method="post" onsubmit="send_data(event)">
            <label for="Open">Open</label>
            <input type="number" step="0.01" id="Open" name="Open" required>
            
            <label for="High">High</label>
            <input type="number" step="0.01" id="High" name="High" required>
            
            <label for="Low">Low</label>
            <input type="number" step="0.01" id="Low" name="Low" required>
            
            <label for="Volume">Volume</label>
            <input type="number" step="1" id="Volume" name="Volume" required>
            
            <button type="submit" class="btn">Predict Stock Price</button>
        </form>
        <div id="prediction" class="prediction-result"></div>
    </div>

    <script>
        function send_data(event) {
            event.preventDefault();  // Prevent the default form submission
            var form = document.getElementById('stockForm');
            var formData = new FormData(form);
            var xhr = new XMLHttpRequest();
            xhr.open('POST', '/predict_close', true);  // Ensure this matches your Flask route
            document.getElementById("prediction").innerHTML = "Predicting Stock Price...";
            xhr.onreadystatechange = function () {
                if (xhr.readyState == XMLHttpRequest.DONE) {
                    document.getElementById("prediction").innerHTML = "Predicted Stock Price: " + xhr.responseText;
                }
            }
            xhr.send(formData);
        }
    </script>
</body>
</html>
